# 文件资源库

## Getting Started

Install dependencies,

```bash
$ npm i
```

Start the dev server,

```bash
$ npm start
```

Build documentation,

```bash
$ npm run docs:build
```

Run publish,

```bash
$ npm run release
```

## Installation

```bash
npm install -S @boluome/filemanage-react-componnet-library
```

## Usage

```js
<KpFileManage
  upload="/your-api-url/upload"
  save="/your-api-url/save"
  query="/your-api-url/query"
  update="/your-api-url/update"
/>
```

Props:

| 参数名 | 类型 | 必须 | 描述 |
| :-: | :-: | :-: | :-: |
| upload | String | 是 | 文件上传接口名 |
| save | String | 是 | 新增文件夹接口名 |
| query | String | 是 | 文件列表接口名 |
| update | String | 是 | 更新接口 如重命名等 |
| title | String | 否 | 标题 |
| visible | Boolean | 否 | 默认展示 |
| multiple | Boolean | 否 | 多选模式 |
| selectedList | [IDataSourceItem[]](#IDataSourceItem) | 否 | 已选文件列表 |
| settings | [SettingsProps](#SettingsProps) | 否 | 配置资源库 |
| headers | Object | 否 | ajax 请求 Header 参数，格式参照[umi-request](https://github.com/umijs/umi-request) |
| beforeUpload | (files: FileList) => boolean | 否 | 文件上传之前的回调函数 |
| onChange | (selectedlist: IDataSourceItem[]) => void | 否 | 选中文件后的回调函数 |

---

### IDataSourceItem

```
interface IDataSourceItem {
  url: string;
  id?: number;
  name?: string;
  type?: number;
  suffix?: string;
  parentId?: number;
  size?: number;
  createdAt?: string;
  createdBy?: string;
  updatedAt?: string;
  updatedBy?: string;
}
```

### SettingsProps

```
interface SettingsProps {
  maskClosable: boolean;
  defalutActive: number;
  timeout: number;
  themeColor: string;
  keyboard: boolean;
  sidebar: DefaultSidebarProps;
}
```
