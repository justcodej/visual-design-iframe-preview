'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _always2 = require('ramda/src/always');

var _always3 = _interopRequireDefault(_always2);

var _divide2 = require('ramda/src/divide');

var _divide3 = _interopRequireDefault(_divide2);

var _append2 = require('ramda/src/append');

var _append3 = _interopRequireDefault(_append2);

var _compose2 = require('ramda/src/compose');

var _compose3 = _interopRequireDefault(_compose2);

var _2 = require('ramda/src/__');

var _3 = _interopRequireDefault(_2);

var _gte2 = require('ramda/src/gte');

var _gte3 = _interopRequireDefault(_gte2);

var _ifElse2 = require('ramda/src/ifElse');

var _ifElse3 = _interopRequireDefault(_ifElse2);

var _interval = require('./interval');

var _interval2 = _interopRequireDefault(_interval);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (st, et) {
  var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];

  var p = function p(adj) {
    return function (dur) {
      r = (0, _ifElse3.default)((0, _gte3.default)(dur, _3.default), (0, _compose3.default)((0, _append3.default)(_3.default, r), parseInt, (0, _divide3.default)(dur)), (0, _always3.default)((0, _append3.default)(0, r)))(adj);

      return dur %= adj;
    };
  };

  (0, _compose3.default)(p((0, _interval2.default)('m')), p((0, _interval2.default)('h')), p((0, _interval2.default)('d')))(Math.abs(et - st));

  return r;
};