'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _curry2 = require('ramda/src/curry');

var _curry3 = _interopRequireDefault(_curry2);

var _equals2 = require('ramda/src/equals');

var _equals3 = _interopRequireDefault(_equals2);

var _type2 = require('ramda/src/type');

var _type3 = _interopRequireDefault(_type2);

var _compose2 = require('ramda/src/compose');

var _compose3 = _interopRequireDefault(_compose2);

var _ifElse2 = require('ramda/src/ifElse');

var _ifElse3 = _interopRequireDefault(_ifElse2);

var _stringifyJSON = require('./stringify-j-s-o-n');

var _stringifyJSON2 = _interopRequireDefault(_stringifyJSON);

var _store = require('./store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default =
// string -> string -> string | object -> empty
function (k, v) {
  var t = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'local';
  return (0, _ifElse3.default)((0, _compose3.default)((0, _equals3.default)('String'), _type3.default), set(k, t), oset(k, t))(v);
};

var set = (0, _curry3.default)(function (k, t, v) {
  return _store2.default[t].setItem(k, v);
});

var oset = (0, _curry3.default)(function (k, t, o) {
  return set(k, t, (0, _stringifyJSON2.default)(o));
});